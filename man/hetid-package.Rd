% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hetid-package.R
\docType{package}
\name{hetid-package}
\alias{hetid-package}
\alias{hetid}
\title{hetid: Identification Through Heteroskedasticity for VFCI}
\description{
\if{html}{\figure{logo.png}{options: style='float: right' alt='logo' width='120'}}

Applies identification through heteroskedasticity from Lewbel (2012) for triangular systems to estimate the VFCI (volatility financial conditions index) by Tobias Adrian, Matthew DeHaven, Fernando Duarte and Tara Iyer.

The hetid package implements identification through heteroskedasticity methods
from Lewbel (2012) for triangular systems, with applications to the Volatility
Financial Conditions Index (VFCI) developed by Adrian, DeHaven, Duarte, and Iyer.

The package provides a complete toolkit for empirical macroeconomic analysis
using heteroskedasticity-based identification, including data access, bond
pricing calculations, and structural parameter estimation.
}
\section{Core Methodology}{

The package implements the identification through heteroskedasticity approach
from Lewbel (2012), which exploits conditional heteroskedasticity to identify
structural parameters in triangular systems without requiring external instruments.

The method is particularly useful for:
\itemize{
\item Identifying endogenous relationships in macroeconomic models
\item Estimating structural parameters when traditional instruments are unavailable
\item Analyzing financial conditions and their impact on the real economy
}
}

\section{Key Features}{

\subsection{Data Management:}{
\itemize{
\item \strong{ACM Term Structure Data}: Access to monthly yields, term premia,
and risk-neutral yields for 1-10 year maturities from Adrian, Crump, and Moench (2013)
\item \strong{Economic Variables}: Quarterly macroeconomic and financial data
\item \strong{Automatic Downloads}: Functions to download and update data from
Federal Reserve sources
}}

\subsection{Bond Pricing Calculations:}{
\itemize{
\item \strong{Expected Log Bond Prices}: Compute n_hat(i,t) estimators
\item \strong{Price News}: Calculate unexpected bond price changes
\item \strong{SDF Innovations}: Compute stochastic discount factor innovations
\item \strong{Moment Estimators}: Calculate supremum (c_hat) and fourth moment
(k_hat) estimators
\item \strong{Variance Bounds}: Empirical bounds for forecast error variance
}}

\subsection{Identification Methods:}{
\itemize{
\item \strong{Reduced Form Residuals}: Compute W1 and W2 residuals for identification
\item \strong{Quadratic Solvers}: Solve identification equations for structural parameters
\item \strong{Optimization}: Find optimal principal component weights
\item \strong{Multi-maturity Analysis}: Simultaneous estimation across yield curve
}}
}

\section{Typical Workflow}{

\preformatted{
# 1. Data Setup
download_term_premia()  # Download latest ACM data
data <- extract_acm_data(data_types = c("yields", "term_premia"))

# 2. Compute Reduced Form Residuals
w1_residuals <- compute_w1_residuals(n_pcs = 4)
w2_residuals <- compute_w2_residuals(
  yields = data[, grep("^y", names(data))],
  term_premia = data[, grep("^tp", names(data))],
  maturities = c(2, 5, 10)
)

# 3. Solve for Structural Parameters
result <- solve_theta_quadratic(
  pc_j = variables$pc1,
  w1 = w1_residuals$residuals,
  w2 = w2_residuals$residuals[[1]],
  tau = 0.5
)

# 4. Optimization (Optional)
optimal <- optimize_pc_weights(
  pcs = as.matrix(variables[, paste0("pc", 1:4)]),
  w1 = w1_residuals$residuals,
  w2 = w2_residuals$residuals[[1]],
  tau = 0.5
)
}
}

\section{Data Sources}{

\describe{
\item{\strong{ACM Term Structure Data}}{Monthly data from Adrian, Crump, and
Moench (2013) including yields, term premia, and risk-neutral yields for
1-10 year maturities. Updated regularly from Federal Reserve sources.}
\item{\strong{Economic Variables}}{Quarterly macroeconomic and financial
variables including GDP, inflation, financial conditions indices, and
principal components of financial asset returns.}
}
}

\section{Function Categories}{

\subsection{Data Functions:}{
\itemize{
\item \code{\link{download_term_premia}()}: Download ACM data
\item \code{\link{extract_acm_data}()}: Extract and process ACM data
\item \code{\link{load_term_premia}()}: Load cached ACM data
}}

\subsection{Bond Pricing Functions:}{
\itemize{
\item \code{\link{compute_n_hat}()}: Expected log bond prices
\item \code{\link{compute_price_news}()}: Unexpected price changes
\item \code{\link{compute_sdf_innovations}()}: SDF innovations
\item \code{\link{compute_c_hat}()}: Supremum estimator
\item \code{\link{compute_k_hat}()}: Fourth moment estimator
\item \code{\link{compute_variance_bound}()}: Variance bounds
}}

\subsection{Identification Functions:}{
\itemize{
\item \code{\link{compute_w1_residuals}()}: Primary endogenous variable residuals
\item \code{\link{compute_w2_residuals}()}: Secondary endogenous variable residuals
\item \code{\link{solve_theta_quadratic}()}: Solve identification equations
\item \code{\link{solve_theta_quadratic_lincomb}()}: Solve with PC combinations
}}

\subsection{Optimization Functions:}{
\itemize{
\item \code{\link{optimize_pc_weights}()}: Optimize PC weights
\item \code{\link{optimize_theta_identification}()}: Full identification optimization
\item \code{\link{optimize_theta_all_maturities}()}: Multi-maturity optimization
}}
}

\section{Mathematical Background}{

The identification strategy exploits the relationship:
\deqn{Y_{1,t+1} = \theta Y_{2,t+1} + \epsilon_{1,t+1}}
\deqn{Y_{2,t+1} = \gamma' Z_t + \epsilon_{2,t+1}}

Where identification is achieved through the moment condition:
\deqn{E[\epsilon_{1,t+1} \epsilon_{2,t+1} | Z_t] = \tau \cdot Var(\epsilon_{2,t+1} | Z_t)}

This leads to a quadratic equation in \eqn{\theta} that can be solved using
the functions in this package.
}

\references{
Adrian, T., Crump, R. K., and Moench, E. (2013). "Pricing the term structure
with linear regressions." Journal of Financial Economics, 110(1), 110-138.

Adrian, T., DeHaven, M., Duarte, F., and Iyer, T. (2024). "The Volatility
Financial Conditions Index." Working Paper.

Lewbel, A. (2012). "Using heteroscedasticity to identify and estimate
mismeasured and endogenous regressor models." Journal of Business & Economic
Statistics, 30(1), 67-80.
}
\seealso{
Useful links:
\itemize{
  \item \url{https://github.com/fernando-duarte/hetid}
  \item Report bugs at \url{https://github.com/fernando-duarte/hetid/issues}
}

}
\author{
\strong{Maintainer}: Fernando Duarte \email{fernando_duarte@brown.edu} (\href{https://orcid.org/0000-0002-8495-6936}{ORCID})

}
\keyword{internal}
